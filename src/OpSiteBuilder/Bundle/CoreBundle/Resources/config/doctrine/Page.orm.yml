OpSiteBuilder\Bundle\CoreBundle\Entity\Page:
    type: entity
    table: pages
    repositoryClass: OpSiteBuilder\Bundle\CoreBundle\Entity\Repository\PageRepository
    manyToOne:
        parent:
            targetEntity: OpSiteBuilder\Bundle\CoreBundle\Entity\Page
            inversedBy: children
            joinColumn:
                name: parent_id
                referencedColumnName: id
                onDelete: CASCADE
            gedmo:
                - treeParent
    oneToMany:
        children:
            targetEntity: OpSiteBuilder\Bundle\CoreBundle\Entity\Page
            mappedBy: parent
        blocks:
            targetEntity: OpSiteBuilder\Bundle\CoreBundle\Model\AbstractBlock
            mappedBy: page
            orderBy:
                sort: ASC
